<mdb-navbar SideClass="navbar navbar-expand-lg navbar-dark indigo" [containerInside]="false">
  <!-- Navbar brand -->

  <logo>
    <a class="navbar-brand" href="#">Imprezownia</a>
  </logo>

  <!-- Collapsible content -->
  <links>

    <!-- Links -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link waves-light" mdbWavesEffect (click)="loginModalRef.showModal()">Zaloguj</a>
      </li>
      <li class="nav-item">
        <a class="nav-link waves-light" mdbWavesEffect (click)="registerModalRef.showModal()">Zarejestruj</a>
      </li>

      <li class="nav-item">
        <a class="nav-link waves-light" mdbWavesEffect (click)="showModal()">Test</a>
      </li>

      <!-- Dropdown -->
      <li class="nav-item dropdown" dropdown>
        <a dropdownToggle mdbWavesEffect type="button" class="nav-link dropdown-toggle waves-light" mdbWavesEffect>
          Wydarzenia
          <span class="caret"></span>
        </a>
        <div *dropdownMenu class="dropdown-menu dropdown dropdown-primary" role="menu">
          <a class="dropdown-item waves-light" data-toggle="modal" data-target="#basicExample" (click)="fluid.show()" mdbWavesEffect
            href="#">Dodaj</a>
        </div>
      </li>



    </ul>
    <!-- Links -->

    <!-- Search form -->
    <form class="form-inline waves-light" mdbWavesEffect>
      <div class="md-form mt-0">
        <input class="form-control mr-sm-6" type="text" placeholder="Szukaj">
      </div>
    </form>
  </links>
  <!-- Collapsible content -->
</mdb-navbar>


<div class="container-fluid">
  <div class="row main-container">
    <agm-map [latitude]="latitude" [longitude]="longitude">
      <agm-marker class="mapMarker" *ngFor="let party of partyEvents; let i = index" [latitude]="party.latitude" [longitude]="party.longitude"
        [markerDraggable]="party.draggable">

        <agm-info-window>
          <strong>{{ party.name }}</strong>
          <p>{{ party.desc }} </p>
        </agm-info-window>

      </agm-marker>
    </agm-map>

  </div>
</div>



<div mdbModal #fluid="mdb-modal" class="modal fade left" id="fullHeightModalRight" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-full-height modal-left" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">Dodaj wydarzenie</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="fluid.hide()">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>

      <form [formGroup]="newParty">
        <div class="modal-body">
          <div class="md-form">
            <input mdbInputDirective #partyName type="text" name="partyName" id="partyName" class="form-control" formControlName="partyName"
              [(ngModel)]="partyEvent.name">
            <label for="partyName" class="">Nazwa</label>
          </div>

          <div class="md-form">
            <input mdbInputDirective #partyDesc type="text" name="partyDesc" id="partyDesc" class="form-control" formControlName="partyDesc"
              [(ngModel)]="partyEvent.desc">
            <label for="partyDesc" class="">Opis</label>
          </div>

          <div class="md-form">
            <input mdbInputDirective id="form1" placeholder="search for location" autocorrect="off" autocapitalize="off" spellcheck="off"
              type="text" class="form-control" #search [formControl]="searchControl">
          </div>

        </div>

        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary waves-light" data-dismiss="modal" (click)="fluid.hide()" mdbWavesEffect>Close</button>
          <button (click)="add(partyEvent)" type="button" class="btn btn-primary waves-light" mdbWavesEffect>Dodaj</button>
        </div>

      </form>

    </div>
  </div>
</div>

<app-register #registerModal></app-register>

<app-login #loginModal></app-login>
